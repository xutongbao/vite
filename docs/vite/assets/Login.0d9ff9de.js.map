{"version":3,"file":"Login.0d9ff9de.js","sources":["../../../src/views/light/login/Login.vue","../../../src/views/light/login/useLogin.js"],"sourcesContent":["<template>\r\n  <div>\r\n    <input v-model=\"username\" :ref=\"handleUsernameRef\" autofocus />\r\n  </div>\r\n  <div>\r\n    <input\r\n      v-model=\"password\"\r\n      :type=\"visible ? 'text' : 'password'\"\r\n      @keyup.enter=\"handleLogin\"\r\n    />\r\n    <Icon\r\n      :name=\"visible ? 'show' : 'hide'\"\r\n      className=\"m-login-icon\"\r\n      @onClick=\"handleVisible\"\r\n    ></Icon>\r\n  </div>\r\n  <button @click=\"handleLogin\">登录</button>\r\n</template>\r\n\r\n<script setup>\r\nimport Icon from \"@/components/light/Icon.vue\"\r\nimport useLogin from \"./useLogin\"\r\n\r\nconst {\r\n  username,\r\n  password,\r\n  visible,\r\n  handleUsernameRef,\r\n  handleVisible,\r\n  handleLogin,\r\n} = useLogin()\r\n</script>\r\n\r\n<style></style>\r\n","import Api from \"@/api\"\r\nimport { useRouter } from \"vue-router\"\r\nimport { reactive, toRefs, onMounted } from \"vue\"\r\n\r\nexport default () => {\r\n  const state = reactive({\r\n    username: \"admin\",\r\n    password: \"123456\",\r\n    visible: false,\r\n  })\r\n  const router = useRouter()\r\n\r\n  const handleVisible = () => {\r\n    state.visible = !state.visible\r\n  }\r\n\r\n  const handleLogin = () => {\r\n    const { username, password } = state\r\n    Api.light.login({ username, password }).then((res) => {\r\n      if (res.code === 200) {\r\n        router.push(\"/light/index/home\")\r\n      }\r\n    })\r\n  }\r\n\r\n  let usernameRef\r\n  const handleUsernameRef = (el) => {\r\n    usernameRef = el\r\n  }\r\n\r\n  onMounted(() => {\r\n    usernameRef.focus()\r\n  })\r\n\r\n  return {\r\n    ...toRefs(state),\r\n    handleUsernameRef,\r\n    handleVisible,\r\n    handleLogin,\r\n  }\r\n}\r\n"],"names":["username","password","visible","handleUsernameRef","handleVisible","handleLogin","state","reactive","router","useRouter","usernameRef","focus","__assign","toRefs","el","light","login","then","res","code","push","useLogin"],"mappings":"6jBAuBMA,SACJA,WACAC,UACAC,oBACAC,gBACAC,cACAC,GCzBa,YACPC,EAAQC,EAAS,CACrBP,SAAU,QACVC,SAAU,SACVC,SAAS,IAELM,EAASC,QAeXC,YAKM,OACIC,WAGPC,OACFC,EAAOP,IADL,CAELH,kBAVyBW,MACXA,GAUdV,cAzBoB,OACdF,SAAWI,EAAMJ,SAyBvBG,YAtBkB,WACZL,SAAEA,WAAUC,GAAaK,IAC3BS,MAAMC,MAAM,CAAEhB,SAAAA,EAAUC,SAAAA,IAAYgB,MAAMC,IAC3B,MAAbA,EAAIC,QACCC,KAAK,4BDUhBC"}